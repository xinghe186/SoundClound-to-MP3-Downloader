var e,n;"function"==typeof(e=globalThis.define)&&(n=e,e=null),function(n,o,t,r,s){var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},u="function"==typeof a[r]&&a[r],i=u.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(e,o){if(!i[e]){if(!n[e]){var t="function"==typeof a[r]&&a[r];if(!o&&t)return t(e,!0);if(u)return u(e,!0);if(l&&"string"==typeof e)return l(e);var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}f.resolve=function(o){var t=n[e][1][o];return null!=t?t:o},f.cache={};var d=i[e]=new c.Module(e);n[e][0].call(d.exports,f,d,d.exports,this)}return i[e].exports;function f(e){var n=f.resolve(e);return!1===n?{}:c(n)}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=n,c.cache=i,c.parent=u,c.register=function(e,o){n[e]=[function(e,n){n.exports=o},{}]},Object.defineProperty(c,"root",{get:function(){return a[r]}}),a[r]=c;for(var d=0;d<o.length;d++)c(o[d]);if(t){var f=c(t);"object"==typeof exports&&"undefined"!=typeof module?module.exports=f:"function"==typeof e&&e.amd?e(function(){return f}):s&&(this[s]=f)}}({kgW6q:[function(e,n,o){e("./messaging"),e("../../../background/index")},{"./messaging":"iG3ww","../../../background/index":"lSzt3"}],iG3ww:[function(e,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js"),r=e("~background/messages/openpop"),s=t.interopDefault(r);globalThis.__plasmoInternalPortMap=new Map,chrome.runtime.onMessageExternal.addListener((e,n,o)=>(e?.name,!0)),chrome.runtime.onMessage.addListener((e,n,o)=>("openpop"===e.name&&(0,s.default)({...e,sender:n},{send:e=>o(e)}),!0)),chrome.runtime.onConnect.addListener(function(e){globalThis.__plasmoInternalPortMap.set(e.name,e),e.onMessage.addListener(function(n){e.name})})},{"~background/messages/openpop":"6wKLY","@parcel/transformer-js/src/esmodule-helpers.js":"f6DG4"}],"6wKLY":[function(e,n,o){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(o);let t=async(e,n)=>{try{chrome.action.openPopup(),n.send({success:!0,message:"\u767b\u5f55\u7a97\u53e3\u5df2\u6253\u5f00\u3002"})}catch(e){console.error("Failed to open popup:",e),n.send({success:!1,message:`\u65e0\u6cd5\u6253\u5f00\u767b\u5f55\u7a97\u53e3: ${e.message}`})}};o.default=t},{"@parcel/transformer-js/src/esmodule-helpers.js":"f6DG4"}],f6DG4:[function(e,n,o){o.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},o.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.exportAll=function(e,n){return Object.keys(e).forEach(function(o){"default"===o||"__esModule"===o||n.hasOwnProperty(o)||Object.defineProperty(n,o,{enumerable:!0,get:function(){return e[o]}})}),n},o.export=function(e,n,o){Object.defineProperty(e,n,{enumerable:!0,get:o})}},{}],lSzt3:[function(e,n,o){console.log("Live now; make now always the most precious time. Now will never come again."),chrome.webRequest.onSendHeaders.addListener(e=>{let n=/api-v2\.soundcloud\.com\/tracks\?ids=\d+&.*client_id=/.test(e.url)||/api-v2\.soundcloud\.com\/tracks\/\d+\?.*client_id=.*&oauth_token=/.test(e.url)||/api-v2\.soundcloud\.com\/media\/soundcloud:tracks:\d+\/[^/]+\/stream\/(ctr-encrypted-)?hls\?.*client_id=.*&track_authorization=/.test(e.url);if(!n)return;let o=new URL(e.url),t=o.searchParams.get("client_id"),r=o.searchParams.get("oauth_token");if(!r){let n=e.requestHeaders.find(e=>"authorization"===e.name.toLowerCase());n&&n.value.startsWith("OAuth ")&&(r=n.value.replace("OAuth ",""))}chrome.tabs.sendMessage(e.tabId,{url:e.url,headers:e.requestHeaders,clientId:t,oauthToken:r},e=>{chrome.runtime.lastError})},{urls:["*://*.soundcloud.com/*"]},["requestHeaders"])},{}]},["kgW6q"],"kgW6q","parcelRequire3233"),globalThis.define=n;